<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ir_shrlon_max_20" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="be483782-261d-40f9-b5a3-b55c9e7890e6">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="as_coopid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_period" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
lncontmaster.member_no ,
lncontmaster.principal ,
mbucfprename.prename_desc ,
mbmembmaster.memb_name ,
mbmembmaster.memb_surname ,
mbucfmembgroup.membgroup_code ,
mbucfmembgroup.membgroup_desc
from
 ( select * from ( select ln.member_no , sum( ln.principal_balance ) as principal from lncontmaster ln where ln.contract_status = 1  group by ln.member_no order by principal desc ) aa where rownum <= 20 ) lncontmaster
left join mbmembmaster on lncontmaster.member_no = mbmembmaster.member_no
left join mbucfprename on mbucfprename.prename_code = mbmembmaster.prename_code
left join mbucfmembgroup on trim( mbucfmembgroup.membgroup_code ) = trim( mbmembmaster.membgroup_code )
where mbmembmaster.coop_id = $P{as_coopid}
order by lncontmaster.principal desc ]]>
	</queryString>
	<field name="MEMBER_NO" class="java.lang.String"/>
	<field name="PRINCIPAL" class="java.math.BigDecimal"/>
	<field name="PRENAME_DESC" class="java.lang.String"/>
	<field name="MEMB_NAME" class="java.lang.String"/>
	<field name="MEMB_SURNAME" class="java.lang.String"/>
	<field name="MEMBGROUP_CODE" class="java.lang.String"/>
	<field name="MEMBGROUP_DESC" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="40" splitType="Stretch">
			<staticText>
				<reportElement uuid="6cbf3506-fee7-4df3-8cfa-261740234377" x="0" y="0" width="802" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[รายงานเงินกู้รายใหญ่ ณ ปัจจุบัน]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="3642ae1c-6dd8-4499-87b6-e006e2aa7f1d" x="0" y="20" width="47" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[ลำดับ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="86d2c583-ecc4-49dd-939c-72c8d7fff3bc" x="47" y="20" width="78" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[เลขสมาชิก]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f7e18ea5-ee57-4062-ab75-da4007e0e316" x="125" y="20" width="246" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[ชื่อ - นามสกุล]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c2d57c0b-d0a2-4e5a-b8c2-0aed69aafa0d" x="371" y="20" width="121" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[หนี้ทั้งหมด]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="019347b7-1991-4112-80ed-9c261e4181db" x="492" y="20" width="310" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<text><![CDATA[ชื่อหน่วย]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement uuid="4ff262af-7e1a-4c5a-add9-93230fe8ad13" x="0" y="0" width="47" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1ef0dbc9-3b74-4f58-81ee-8d5a029e1237" x="47" y="0" width="78" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MEMBER_NO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="e95f6b81-754f-4969-b22f-2b50727b23d9" x="125" y="0" width="246" height="20"/>
				<textElement>
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PRENAME_DESC}+$F{MEMB_NAME}+"  "+$F{MEMB_SURNAME}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="db6aaf69-39fb-46b2-8fb1-7b38b401e131" x="371" y="0" width="121" height="20"/>
				<textElement textAlignment="Right">
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PRINCIPAL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="228463c2-f74e-4ec3-aebb-73e6f3fbf1c1" x="492" y="0" width="310" height="20"/>
				<textElement>
					<font fontName="Angsana New" size="16"/>
				</textElement>
				<textFieldExpression><![CDATA["   "+$F{MEMBGROUP_CODE}+"-"+$F{MEMBGROUP_DESC}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
